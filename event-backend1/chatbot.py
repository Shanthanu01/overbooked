from flask import Flask, request, jsonify
import os
import google.generativeai as genai
from flask_cors import CORS

genai.configure(api_key='AIzaSyAvnjGDrCq-HyN_sHP33jifRnJjsq3txzc')

# Create the model
generation_config = {
  "temperature": 0,
  "top_p": 0.95,
  "top_k": 40,
  "max_output_tokens": 8192,
  "response_mime_type": "text/plain",
}

model = genai.GenerativeModel(
  model_name="gemini-1.5-flash",
  generation_config=generation_config,
  system_instruction="Concert Insights:\n\nMost Popular Concert: Event Title 24 with 244 bookings.\n\nAverage Ticket Price: 313.3557692307692\n\nHighest Earning Concert: Event Title 24 with revenue of 117608.\n\nAverage Tickets Sold per Concert: 114.33653846153847\n\nMost Expensive Concert: Event Title 9 with ticket price 500.\n\nLeast Expensive Concert: Event Title 12 with ticket price 103.\n\nAverage Bookings by Location: {'Europe': 88.4, 'France': 135.75, 'Germany': 140.4, 'India': 119.55, 'West Amsterdam': 92.04166666666667}\n\nConcert with Most Available Tickets: Kadhar Bhai Event 3 with 380 tickets available.\n\nConcert Categories Summary: {'rock': 9, 'jazz': 9, 'pop': 9, 'classical': 9, 'hip-hop': 9, 'blues': 9, 'electronic': 9, 'country': 9, 'reggae': 8, 'metal': 8, 'folk': 8, 'funk': 8}\n\n\n\nAll Concert Event Details:\n\nTitle: Event Title 12\nDescription: Description for event 12.\nBase Price: 103\nDemand Level: Low\nCompetition Price: 30.0\nDynamic Price: 36.0\nLocation: India\nArtist Name: Kanye West\nFinal Price: -1.666484260360427\nMonth: 11\nDay: 15.0\nDay of Week: 4.0\nIs Weekend: False\nClicks: 0.0\nTotal Tickets: 246\nBookings: 145\nCategory: rock\n\nTitle: Event Title 1\nDescription: Description for event 1.\nBase Price: 322\nDemand Level: High\nCompetition Price: 76.0\nDynamic Price: 56.8\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 635.5673826744655\nMonth: 1\nDay: 2.0\nDay of Week: 3.0\nIs Weekend: False\nClicks: 0.0\nTotal Tickets: 246\nBookings: 130\nCategory: jazz\n\nTitle: Event Title 7\nDescription: Description for event 7.\nBase Price: 317\nDemand Level: Low\nCompetition Price: 42.0\nDynamic Price: 32.6\nLocation: India\nArtist Name: Kanye West\nFinal Price: 319.2999052415991\nMonth: 11\nDay: 30.0\nDay of Week: 5.0\nIs Weekend: True\nClicks: 0.0\nTotal Tickets: 246\nBookings: 121\nCategory: pop\n\nTitle: Event Title 4\nDescription: Description for event 4.\nBase Price: 427\nDemand Level: low\nCompetition Price: 67.0\nDynamic Price: 46.3\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 368.2919530903617\nMonth: 11\nDay: 24.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: 11.0\nTotal Tickets: 246\nBookings: 52\nCategory: classical\n\nTitle: Event Title 3\nDescription: Description for event 3.\nBase Price: 446\nDemand Level: high\nCompetition Price: 71.0\nDynamic Price: 60.1\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 819.4512372131932\nMonth: 1\nDay: 5.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: 1.0\nTotal Tickets: 246\nBookings: 27\nCategory: hip-hop\n\nTitle: Event Title 11\nDescription: Description for event 11.\nBase Price: 351\nDemand Level: medium\nCompetition Price: 76.0\nDynamic Price: 59.0\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 271.47963774367355\nMonth: 11\nDay: 20.0\nDay of Week: 2.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 9\nCategory: blues\n\nTitle: Event Title 39\nDescription: Description for event 39.\nBase Price: 105\nDemand Level: high\nCompetition Price: 53.0\nDynamic Price: 120.0\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 476.6732481279908\nMonth: 1\nDay: 9.0\nDay of Week: 3.0\nIs Weekend: False\nClicks: 1.0\nTotal Tickets: 246\nBookings: 159\nCategory: electronic\n\nTitle: Event Title 5\nDescription: Description for event 5.\nBase Price: 192\nDemand Level: low\nCompetition Price: 53.0\nDynamic Price: 68.8\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 2278.152043237069\nMonth: 10\nDay: 26.0\nDay of Week: 5.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 52\nCategory: country\n\nTitle: Event Title 2\nDescription: Description for event 2.\nBase Price: 194\nDemand Level: high\nCompetition Price: 25.0\nDynamic Price: 48.0\nLocation: India\nArtist Name: Kanye West\nFinal Price: 410.3587087155337\nMonth: 12\nDay: 8.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: 5.0\nTotal Tickets: 246\nBookings: 234\nCategory: reggae\n\nTitle: Event Title 22\nDescription: Description for event 22.\nBase Price: 376\nDemand Level: low\nCompetition Price: 31.0\nDynamic Price: 24.3\nLocation: India\nArtist Name: Kanye West\nFinal Price: 546.3739169752531\nMonth: 12\nDay: 14.0\nDay of Week: 5.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 193\nCategory: metal\n\nTitle: Event Title 23\nDescription: Description for event 23.\nBase Price: 338\nDemand Level: low\nCompetition Price: 78.0\nDynamic Price: 80.0\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 439.9259375374074\nMonth: 12\nDay: 27.0\nDay of Week: 4.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 27\nCategory: folk\n\nTitle: Event Title 32\nDescription: Description for event 32.\nBase Price: 364\nDemand Level: low\nCompetition Price: 39.0\nDynamic Price: 33.5\nLocation: India\nArtist Name: Kanye West\nFinal Price: 314.24691019537147\nMonth: 11\nDay: 20.0\nDay of Week: 2.0\nIs Weekend: False\nClicks: 1.0\nTotal Tickets: 246\nBookings: 37\nCategory: funk\n\nTitle: Event Title 52\nDescription: Description for event 52.\nBase Price: 389\nDemand Level: medium\nCompetition Price: 33.0\nDynamic Price: 100.0\nLocation: India\nArtist Name: Kanye West\nFinal Price: 574.5857733884102\nMonth: 12\nDay: 29.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: 1.0\nTotal Tickets: 246\nBookings: 233\nCategory: rock\n\nTitle: Event Title 63\nDescription: Description for event 63.\nBase Price: 337\nDemand Level: low\nCompetition Price: 44.0\nDynamic Price: 44.0\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 486.9248825368216\nMonth: 12\nDay: 16.0\nDay of Week: 0.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 56\nCategory: jazz\n\nTitle: Event Title 15\nDescription: Description for event 15.\nBase Price: 231\nDemand Level: medium\nCompetition Price: 31.0\nDynamic Price: 32.0\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 2378.811956431243\nMonth: 11\nDay: 11.0\nDay of Week: 0.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 24\nCategory: pop\n\nTitle: Event Title 19\nDescription: Description for event 19.\nBase Price: 236\nDemand Level: medium\nCompetition Price: 57.0\nDynamic Price: 99.0\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 362.45401448003406\nMonth: 12\nDay: 29.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: 1.0\nTotal Tickets: 246\nBookings: 115\nCategory: classical\n\nTitle: Event Title 30\nDescription: Description for event 30.\nBase Price: 395\nDemand Level: high\nCompetition Price: 91.0\nDynamic Price: 109.2\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 498.1744708104963\nMonth: 12\nDay: 22.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 19\nCategory: hip-hop\n\nTitle: Event Title 54\nDescription: Description for event 54.\nBase Price: 461\nDemand Level: medium\nCompetition Price: 77.0\nDynamic Price: 71.5\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 697.2882430564279\nMonth: 1\nDay: 7.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 45\nCategory: blues\n\nTitle: Event Title 59\nDescription: Description for event 59.\nBase Price: 300\nDemand Level: low\nCompetition Price: 64.0\nDynamic Price: 40.0\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 519.4492992502232\nMonth: 12\nDay: 24.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 240\nCategory: electronic\n\nTitle: Event Title 6\nDescription: Description for event 6.\nBase Price: 158\nDemand Level: medium\nCompetition Price: 32.0\nDynamic Price: 58.0\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 2204.8815302379003\nMonth: 10\nDay: 17.0\nDay of Week: 3.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 160\nCategory: country\n\nTitle: Event Title 9\nDescription: Description for event 9.\nBase Price: 500\nDemand Level: low\nCompetition Price: 37.0\nDynamic Price: 54.4\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 771.9621451286952\nMonth: 12\nDay: 29.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: 4.0\nTotal Tickets: 246\nBookings: 207\nCategory: reggae\n\nTitle: Event Title 13\nDescription: Description for event 13.\nBase Price: 438\nDemand Level: low\nCompetition Price: 64.0\nDynamic Price: 50.8\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 588.621194392227\nMonth: 12\nDay: 17.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 91\nCategory: metal\n\nTitle: Event Title 14\nDescription: Description for event 14.\nBase Price: 498\nDemand Level: low\nCompetition Price: 74.0\nDynamic Price: 71.8\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 2505.483805758729\nMonth: 10\nDay: 30.0\nDay of Week: 2.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 54\nCategory: folk\n\nTitle: Event Title 16\nDescription: Description for event 16.\nBase Price: 242\nDemand Level: medium\nCompetition Price: 81.0\nDynamic Price: 89.0\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 181.00990183697192\nMonth: 11\nDay: 19.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 82\nCategory: funk\n\nTitle: Event Title 18\nDescription: Description for event 18.\nBase Price: 497\nDemand Level: medium\nCompetition Price: 38.0\nDynamic Price: 90.0\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 479.6452016492598\nMonth: 11\nDay: 30.0\nDay of Week: 5.0\nIs Weekend: True\nClicks: 1.0\nTotal Tickets: 246\nBookings: 154\nCategory: rock\n\nTitle: Event Title 24\nDescription: Description for event 24.\nBase Price: 482\nDemand Level: low\nCompetition Price: 70.0\nDynamic Price: 76.8\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 583.7501901690998\nMonth: 11\nDay: 9.0\nDay of Week: 5.0\nIs Weekend: True\nClicks: 1.0\nTotal Tickets: 246\nBookings: 244\nCategory: jazz\n\nTitle: Event Title 25\nDescription: Description for event 25.\nBase Price: 218\nDemand Level: low\nCompetition Price: 99.0\nDynamic Price: 81.1\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 2169.0290154127792\nMonth: 10\nDay: 14.0\nDay of Week: 0.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 56\nCategory: pop\n\nTitle: Event Title 34\nDescription: Description for event 34.\nBase Price: 134\nDemand Level: low\nCompetition Price: 44.0\nDynamic Price: 65.6\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 250.61837143615287\nMonth: 12\nDay: 9.0\nDay of Week: 0.0\nIs Weekend: False\nClicks: 1.0\nTotal Tickets: 246\nBookings: 178\nCategory: classical\n\nTitle: Event Title 43\nDescription: Description for event 43.\nBase Price: 383\nDemand Level: high\nCompetition Price: 60.0\nDynamic Price: 81.6\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 397.55001579366126\nMonth: 11\nDay: 14.0\nDay of Week: 3.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 55\nCategory: hip-hop\n\nTitle: Event Title 49\nDescription: Description for event 49.\nBase Price: 116\nDemand Level: medium\nCompetition Price: 23.0\nDynamic Price: 52.0\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 534.7642977774295\nMonth: 1\nDay: 7.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 148\nCategory: blues\n\nTitle: Event Title 57\nDescription: Description for event 57.\nBase Price: 244\nDemand Level: low\nCompetition Price: 23.0\nDynamic Price: 68.0\nLocation: India\nArtist Name: Kanye West\nFinal Price: 519.9397020917077\nMonth: 1\nDay: 5.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 22\nCategory: electronic\n\nTitle: Event Title 61\nDescription: Description for event 61.\nBase Price: 363\nDemand Level: high\nCompetition Price: 64.0\nDynamic Price: 60.8\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 556.6750560964725\nMonth: 12\nDay: 9.0\nDay of Week: 0.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 103\nCategory: country\n\nTitle: Event Title 20\nDescription: Description for event 20.\nBase Price: 413\nDemand Level: medium\nCompetition Price: 32.0\nDynamic Price: 74.0\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 720.9091151774887\nMonth: 1\nDay: 7.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 237\nCategory: reggae\n\nTitle: Event Title 21\nDescription: Description for event 21.\nBase Price: 207\nDemand Level: medium\nCompetition Price: 63.0\nDynamic Price: 48.5\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 2398.4033596529966\nMonth: 11\nDay: 2.0\nDay of Week: 5.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 115\nCategory: metal\n\nTitle: Event Title 42\nDescription: Description for event 42.\nBase Price: 189\nDemand Level: medium\nCompetition Price: 48.0\nDynamic Price: 34.0\nLocation: India\nArtist Name: Kanye West\nFinal Price: 144.15254109247377\nMonth: 11\nDay: 13.0\nDay of Week: 2.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 155\nCategory: folk\n\nTitle: Event Title 53\nDescription: Description for event 53.\nBase Price: 154\nDemand Level: low\nCompetition Price: 28.0\nDynamic Price: 32.8\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 2283.275509921184\nMonth: 10\nDay: 20.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 57\nCategory: funk\n\nTitle: Event Title 60\nDescription: Description for event 60.\nBase Price: 486\nDemand Level: medium\nCompetition Price: 95.0\nDynamic Price: 94.5\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 564.0093466006188\nMonth: 12\nDay: 17.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 107\nCategory: rock\n\nTitle: Event Title 64\nDescription: Description for event 64.\nBase Price: 414\nDemand Level: low\nCompetition Price: 72.0\nDynamic Price: 58.4\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 873.4014643880552\nMonth: 1\nDay: 4.0\nDay of Week: 5.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 133\nCategory: jazz\n\nTitle: Event Title 44\nDescription: Description for event 44.\nBase Price: 167\nDemand Level: medium\nCompetition Price: 41.0\nDynamic Price: 80.0\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 424.743411795012\nMonth: 12\nDay: 15.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 232\nCategory: pop\n\nTitle: Event Title 50\nDescription: Description for event 50.\nBase Price: 193\nDemand Level: medium\nCompetition Price: 89.0\nDynamic Price: 69.0\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 277.6947402931208\nMonth: 12\nDay: 14.0\nDay of Week: 5.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 112\nCategory: classical\n\nTitle: Event Title 56\nDescription: Description for event 56.\nBase Price: 245\nDemand Level: high\nCompetition Price: 40.0\nDynamic Price: 84.0\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 340.36567819440484\nMonth: 12\nDay: 12.0\nDay of Week: 3.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 97\nCategory: hip-hop\n\nTitle: Event Title 29\nDescription: Description for event 29.\nBase Price: 324\nDemand Level: high\nCompetition Price: 55.0\nDynamic Price: 55.2\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 330.3636917368844\nMonth: 11\nDay: 3.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 131\nCategory: blues\n\nTitle: Event Title 33\nDescription: Description for event 33.\nBase Price: 293\nDemand Level: high\nCompetition Price: 49.0\nDynamic Price: 40.1\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 273.05070981085584\nMonth: 11\nDay: 18.0\nDay of Week: 0.0\nIs Weekend: False\nClicks: 2.0\nTotal Tickets: 246\nBookings: 99\nCategory: electronic\n\nTitle: Event Title 35\nDescription: Description for event 35.\nBase Price: 452\nDemand Level: medium\nCompetition Price: 72.0\nDynamic Price: 57.5\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 2567.0867436153976\nMonth: 10\nDay: 14.0\nDay of Week: 0.0\nIs Weekend: False\nClicks: 1.0\nTotal Tickets: 246\nBookings: 153\nCategory: country\n\nTitle: Event Title 37\nDescription: Description for event 37.\nBase Price: 398\nDemand Level: low\nCompetition Price: 34.0\nDynamic Price: 72.0\nLocation: India\nArtist Name: Kanye West\nFinal Price: 404.1555224508067\nMonth: 11\nDay: 28.0\nDay of Week: 3.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 134\nCategory: reggae\n\nTitle: Event Title 40\nDescription: Description for event 40.\nBase Price: 440\nDemand Level: low\nCompetition Price: 64.0\nDynamic Price: 63.6\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 359.1763785141232\nMonth: 11\nDay: 15.0\nDay of Week: 4.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 111\nCategory: metal\n\nTitle: Event Title 48\nDescription: Description for event 48.\nBase Price: 259\nDemand Level: high\nCompetition Price: 59.0\nDynamic Price: 108.0\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 659.5063758708554\nMonth: 1\nDay: 5.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 139\nCategory: folk\n\nTitle: Event Title 36\nDescription: Description for event 36.\nBase Price: 222\nDemand Level: medium\nCompetition Price: 90.0\nDynamic Price: 57.5\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 2321.1252563598514\nMonth: 10\nDay: 20.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 100\nCategory: funk\n\nTitle: Event Title 62\nDescription: Description for event 62.\nBase Price: 495\nDemand Level: medium\nCompetition Price: 45.0\nDynamic Price: 65.0\nLocation: India\nArtist Name: Kanye West\nFinal Price: 2619.4978756341407\nMonth: 10\nDay: 29.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 48\nCategory: rock\n\nTitle: Event Title 8\nDescription: Description for event 8.\nBase Price: 379\nDemand Level: medium\nCompetition Price: 45.0\nDynamic Price: 37.0\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 434.0305869228904\nMonth: 12\nDay: 12.0\nDay of Week: 3.0\nIs Weekend: False\nClicks: 2.0\nTotal Tickets: 246\nBookings: 46\nCategory: jazz\n\nTitle: Event Title 10\nDescription: Description for event 10.\nBase Price: 279\nDemand Level: high\nCompetition Price: 22.0\nDynamic Price: 116.4\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 695.8848649015728\nMonth: 1\nDay: 1.0\nDay of Week: 2.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 234\nCategory: pop\n\nTitle: Event Title 17\nDescription: Description for event 17.\nBase Price: 213\nDemand Level: medium\nCompetition Price: 28.0\nDynamic Price: 92.0\nLocation: India\nArtist Name: Kanye West\nFinal Price: 139.0603093413047\nMonth: 11\nDay: 1.0\nDay of Week: 4.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 69\nCategory: classical\n\nTitle: Event Title 26\nDescription: Description for event 26.\nBase Price: 146\nDemand Level: medium\nCompetition Price: 57.0\nDynamic Price: 42.5\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 2151.737672727345\nMonth: 10\nDay: 21.0\nDay of Week: 0.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 100\nCategory: hip-hop\n\nTitle: Event Title 27\nDescription: Description for event 27.\nBase Price: 300\nDemand Level: low\nCompetition Price: 21.0\nDynamic Price: 68.8\nLocation: India\nArtist Name: Kanye West\nFinal Price: 402.1341591654888\nMonth: 12\nDay: 28.0\nDay of Week: 5.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 17\nCategory: blues\n\nTitle: Event Title 28\nDescription: Description for event 28.\nBase Price: 467\nDemand Level: low\nCompetition Price: 94.0\nDynamic Price: 71.0\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 609.1629820239674\nMonth: 12\nDay: 1.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: 1.0\nTotal Tickets: 246\nBookings: 114\nCategory: electronic\n\nTitle: Event Title 31\nDescription: Description for event 31.\nBase Price: 235\nDemand Level: high\nCompetition Price: 52.0\nDynamic Price: 42.2\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 2349.906929040124\nMonth: 10\nDay: 31.0\nDay of Week: 3.0\nIs Weekend: False\nClicks: 1.0\nTotal Tickets: 246\nBookings: 142\nCategory: country\n\nTitle: Event Title 38\nDescription: Description for event 38.\nBase Price: 288\nDemand Level: low\nCompetition Price: 21.0\nDynamic Price: 49.6\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 507.3119673379962\nMonth: 12\nDay: 5.0\nDay of Week: 3.0\nIs Weekend: False\nClicks: 1.0\nTotal Tickets: 246\nBookings: 119\nCategory: reggae\n\nTitle: Event Title 41\nDescription: Description for event 41.\nBase Price: 321\nDemand Level: low\nCompetition Price: 73.0\nDynamic Price: 59.7\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 338.22539585310324\nMonth: 11\nDay: 24.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 39\nCategory: metal\n\nTitle: Event Title 45\nDescription: Description for event 45.\nBase Price: 358\nDemand Level: high\nCompetition Price: 62.0\nDynamic Price: 74.4\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 512.7146620445885\nMonth: 12\nDay: 19.0\nDay of Week: 3.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 118\nCategory: folk\n\nTitle: Event Title 46\nDescription: Description for event 46.\nBase Price: 138\nDemand Level: medium\nCompetition Price: 92.0\nDynamic Price: 80.5\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 2153.324105584098\nMonth: 10\nDay: 19.0\nDay of Week: 5.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 5\nCategory: funk\n\nTitle: Event Title 47\nDescription: Description for event 47.\nBase Price: 320\nDemand Level: medium\nCompetition Price: 58.0\nDynamic Price: 76.0\nLocation: India\nArtist Name: Kanye West\nFinal Price: 478.9777539485104\nMonth: 12\nDay: 26.0\nDay of Week: 3.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 190\nCategory: rock\n\nTitle: Event Title 51\nDescription: Description for event 51.\nBase Price: 173\nDemand Level: medium\nCompetition Price: 53.0\nDynamic Price: 60.0\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 213.67489537570933\nMonth: 11\nDay: 19.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 204\nCategory: jazz\n\nTitle: Event Title 55\nDescription: Description for event 55.\nBase Price: 418\nDemand Level: high\nCompetition Price: 80.0\nDynamic Price: 96.0\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 856.8519988999121\nMonth: 1\nDay: 9.0\nDay of Week: 3.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 163\nCategory: pop\n\nTitle: Event Title 58\nDescription: Description for event 58.\nBase Price: 293\nDemand Level: medium\nCompetition Price: 80.0\nDynamic Price: 63.0\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 364.8035394276433\nMonth: 11\nDay: 12.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 215\nCategory: classical\n\nTitle: Event Title 70\nDescription: Description for event 70.\nBase Price: 370\nDemand Level: medium\nCompetition Price: 29.0\nDynamic Price: 44.0\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 2420.280187096866\nMonth: 10\nDay: 12.0\nDay of Week: 5.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 163\nCategory: hip-hop\n\nTitle: Event Title 81\nDescription: Description for event 81.\nBase Price: 143\nDemand Level: high\nCompetition Price: 22.0\nDynamic Price: 70.8\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 333.8926888718293\nMonth: 12\nDay: 2.0\nDay of Week: 0.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 138\nCategory: blues\n\nTitle: Event Title 85\nDescription: Description for event 85.\nBase Price: 236\nDemand Level: low\nCompetition Price: 31.0\nDynamic Price: 30.3\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 404.87377170079367\nMonth: 12\nDay: 24.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 234\nCategory: electronic\n\nTitle: Event Title 89\nDescription: Description for event 89.\nBase Price: 492\nDemand Level: low\nCompetition Price: 59.0\nDynamic Price: 56.3\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 2506.596101658896\nMonth: 10\nDay: 15.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 198\nCategory: country\n\nTitle: Event Title 92\nDescription: Description for event 92.\nBase Price: 436\nDemand Level: medium\nCompetition Price: 62.0\nDynamic Price: 60.5\nLocation: India\nArtist Name: Kanye West\nFinal Price: 417.11845782470846\nMonth: 11\nDay: 4.0\nDay of Week: 0.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 162\nCategory: reggae\n\nTitle: Event Title 96\nDescription: Description for event 96.\nBase Price: 188\nDemand Level: low\nCompetition Price: 52.0\nDynamic Price: 55.2\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 163.0853330027827\nMonth: 11\nDay: 30.0\nDay of Week: 5.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 70\nCategory: metal\n\nTitle: Event Title 71\nDescription: Description for event 71.\nBase Price: 452\nDemand Level: high\nCompetition Price: 34.0\nDynamic Price: 30.8\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 528.9653762398926\nMonth: 12\nDay: 12.0\nDay of Week: 3.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 58\nCategory: folk\n\nTitle: Event Title 75\nDescription: Description for event 75.\nBase Price: 483\nDemand Level: high\nCompetition Price: 88.0\nDynamic Price: 115.2\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 877.8089348886233\nMonth: 1\nDay: 7.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 238\nCategory: funk\n\nTitle: Event Title 68\nDescription: Description for event 68.\nBase Price: 374\nDemand Level: low\nCompetition Price: 37.0\nDynamic Price: 36.1\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 2454.220962128641\nMonth: 10\nDay: 23.0\nDay of Week: 2.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 18\nCategory: rock\n\nTitle: Event Title 77\nDescription: Description for event 77.\nBase Price: 103\nDemand Level: medium\nCompetition Price: 84.0\nDynamic Price: 52.5\nLocation: India\nArtist Name: Kanye West\nFinal Price: 93.98478746190568\nMonth: 11\nDay: 15.0\nDay of Week: 4.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 26\nCategory: jazz\n\nTitle: Event Title 87\nDescription: Description for event 87.\nBase Price: 283\nDemand Level: high\nCompetition Price: 40.0\nDynamic Price: 94.8\nLocation: India\nArtist Name: Kanye West\nFinal Price: 2368.3099616327286\nMonth: 10\nDay: 23.0\nDay of Week: 2.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 208\nCategory: pop\n\nTitle: Event Title 95\nDescription: Description for event 95.\nBase Price: 441\nDemand Level: high\nCompetition Price: 50.0\nDynamic Price: 87.6\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 450.85135692786696\nMonth: 11\nDay: 23.0\nDay of Week: 5.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 118\nCategory: classical\n\nTitle: Event Title 84\nDescription: Description for event 84.\nBase Price: 185\nDemand Level: low\nCompetition Price: 86.0\nDynamic Price: 61.8\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 2195.486428536853\nMonth: 10\nDay: 15.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 53\nCategory: hip-hop\n\nTitle: Event Title 97\nDescription: Description for event 97.\nBase Price: 268\nDemand Level: high\nCompetition Price: 90.0\nDynamic Price: 84.0\nLocation: India\nArtist Name: Kanye West\nFinal Price: 2285.074316413924\nMonth: 10\nDay: 19.0\nDay of Week: 5.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 90\nCategory: blues\n\nTitle: Event Title 98\nDescription: Description for event 98.\nBase Price: 238\nDemand Level: low\nCompetition Price: 90.0\nDynamic Price: 69.4\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 205.6866434664552\nMonth: 11\nDay: 14.0\nDay of Week: 3.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 40\nCategory: electronic\n\nTitle: Event Title 80\nDescription: Description for event 80.\nBase Price: 132\nDemand Level: medium\nCompetition Price: 87.0\nDynamic Price: 70.0\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 2190.4073936934105\nMonth: 10\nDay: 13.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 232\nCategory: country\n\nTitle: Event Title 93\nDescription: Description for event 93.\nBase Price: 459\nDemand Level: low\nCompetition Price: 77.0\nDynamic Price: 73.3\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 778.8128519602154\nMonth: 1\nDay: 1.0\nDay of Week: 2.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 33\nCategory: reggae\n\nTitle: Event Title 100\nDescription: Description for event 100.\nBase Price: 498\nDemand Level: high\nCompetition Price: 20.0\nDynamic Price: 42.0\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 2547.6733546515115\nMonth: 10\nDay: 18.0\nDay of Week: 4.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 49\nCategory: metal\n\nTitle: Event Title 72\nDescription: Description for event 72.\nBase Price: 332\nDemand Level: medium\nCompetition Price: 94.0\nDynamic Price: 75.0\nLocation: India\nArtist Name: Kanye West\nFinal Price: 427.3359970373288\nMonth: 12\nDay: 16.0\nDay of Week: 0.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 80\nCategory: folk\n\nTitle: Event Title 67\nDescription: Description for event 67.\nBase Price: 346\nDemand Level: low\nCompetition Price: 99.0\nDynamic Price: 58.7\nLocation: India\nArtist Name: Kanye West\nFinal Price: 643.4439198536109\nMonth: 1\nDay: 8.0\nDay of Week: 2.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 10\nCategory: funk\n\nTitle: Event Title 65\nDescription: Description for event 65.\nBase Price: 434\nDemand Level: low\nCompetition Price: 31.0\nDynamic Price: 68.0\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 639.8589934668836\nMonth: 12\nDay: 23.0\nDay of Week: 0.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 53\nCategory: rock\n\nTitle: Event Title 69\nDescription: Description for event 69.\nBase Price: 496\nDemand Level: high\nCompetition Price: 61.0\nDynamic Price: 56.3\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 564.3777427023698\nMonth: 12\nDay: 10.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 43\nCategory: jazz\n\nTitle: Event Title 73\nDescription: Description for event 73.\nBase Price: 332\nDemand Level: high\nCompetition Price: 81.0\nDynamic Price: 84.0\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 2549.6243377343053\nMonth: 11\nDay: 3.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: 36.0\nTotal Tickets: 246\nBookings: 164\nCategory: pop\n\nTitle: Event Title 79\nDescription: Description for event 79.\nBase Price: 450\nDemand Level: high\nCompetition Price: 57.0\nDynamic Price: 102.0\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 2596.066825202633\nMonth: 10\nDay: 15.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 240\nCategory: classical\n\nTitle: Event Title 88\nDescription: Description for event 88.\nBase Price: 418\nDemand Level: low\nCompetition Price: 100.0\nDynamic Price: 78.8\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 2624.9605423020275\nMonth: 11\nDay: 18.0\nDay of Week: 0.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 153\nCategory: hip-hop\n\nTitle: Event Title 78\nDescription: Description for event 78.\nBase Price: 338\nDemand Level: high\nCompetition Price: 72.0\nDynamic Price: 111.6\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 2322.8633139927583\nMonth: 10\nDay: 30.0\nDay of Week: 2.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 57\nCategory: blues\n\nTitle: Event Title 86\nDescription: Description for event 86.\nBase Price: 408\nDemand Level: medium\nCompetition Price: 77.0\nDynamic Price: 93.0\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 2592.04219212522\nMonth: 11\nDay: 11.0\nDay of Week: 0.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 126\nCategory: electronic\n\nTitle: Event Title 66\nDescription: Description for event 66.\nBase Price: 110\nDemand Level: low\nCompetition Price: 66.0\nDynamic Price: 66.4\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 336.7605268602968\nMonth: 12\nDay: 10.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 192\nCategory: country\n\nTitle: Event Title 76\nDescription: Description for event 76.\nBase Price: 225\nDemand Level: medium\nCompetition Price: 23.0\nDynamic Price: 32.0\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 310.7936459783232\nMonth: 12\nDay: 30.0\nDay of Week: 0.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 39\nCategory: reggae\n\nTitle: Event Title 82\nDescription: Description for event 82.\nBase Price: 135\nDemand Level: medium\nCompetition Price: 56.0\nDynamic Price: 55.0\nLocation: India\nArtist Name: Kanye West\nFinal Price: 353.59392020769\nMonth: 12\nDay: 10.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 217\nCategory: metal\n\nTitle: Event Title 83\nDescription: Description for event 83.\nBase Price: 422\nDemand Level: high\nCompetition Price: 95.0\nDynamic Price: 104.4\nLocation: Europe\nArtist Name: Travis Scott\nFinal Price: 2454.7931078875445\nMonth: 10\nDay: 13.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 104\nCategory: folk\n\nTitle: Event Title 90\nDescription: Description for event 90.\nBase Price: 110\nDemand Level: low\nCompetition Price: 80.0\nDynamic Price: 71.2\nLocation: France\nArtist Name: Kendrick Lamar\nFinal Price: 2346.3661853221734\nMonth: 11\nDay: 10.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 246\nBookings: 242\nCategory: funk\n\nTitle: Event Title 91\nDescription: Description for event 91.\nBase Price: 215\nDemand Level: medium\nCompetition Price: 51.0\nDynamic Price: 46.0\nLocation: West Amsterdam\nArtist Name: Taylor Swift\nFinal Price: 255.0470362827043\nMonth: 12\nDay: 10.0\nDay of Week: 1.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 36\nCategory: rock\n\nTitle: Event Title 99\nDescription: Description for event 99.\nBase Price: 367\nDemand Level: low\nCompetition Price: 56.0\nDynamic Price: 38.8\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 463.9171597243288\nMonth: 12\nDay: 26.0\nDay of Week: 3.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 183\nCategory: jazz\n\nTitle: Event Title 74\nDescription: Description for event 74.\nBase Price: 125\nDemand Level: medium\nCompetition Price: 69.0\nDynamic Price: 68.0\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 2095.6081058372924\nMonth: 10\nDay: 16.0\nDay of Week: 2.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 41\nCategory: pop\n\nTitle: Event Title 94\nDescription: Description for event 94.\nBase Price: 478\nDemand Level: medium\nCompetition Price: 99.0\nDynamic Price: 75.5\nLocation: Germany\nArtist Name: Eminem\nFinal Price: 425.3073607891218\nMonth: 11\nDay: 1.0\nDay of Week: 4.0\nIs Weekend: False\nClicks: nan\nTotal Tickets: 246\nBookings: 112\nCategory: classical\n\nTitle: Santhosh's Event\nDescription: Amazing songs on the way my LOVE.\nBase Price: 456\nDemand Level: Medium\nCompetition Price: nan\nDynamic Price: nan\nLocation: West Amsterdam\nArtist Name: Travis Scott\nFinal Price: 1976.0788118182768\nMonth: 7\nDay: nan\nDay of Week: nan\nIs Weekend: True\nClicks: 12.0\nTotal Tickets: 246\nBookings: 34\nCategory: hip-hop\n\nTitle: Shanthanu's Event\nDescription: Manmadha Raasa Manmadha Raasa\nBase Price: 209\nDemand Level: Medium\nCompetition Price: nan\nDynamic Price: nan\nLocation: West Amsterdam\nArtist Name: Travis Scott\nFinal Price: 1550.4967626616822\nMonth: 6\nDay: nan\nDay of Week: nan\nIs Weekend: True\nClicks: 7.0\nTotal Tickets: 246\nBookings: 57\nCategory: blues\n\nTitle: Rockstar's Event\nDescription: Kun Faya Kun\nBase Price: 362\nDemand Level: High\nCompetition Price: nan\nDynamic Price: nan\nLocation: West Amsterdam\nArtist Name: Travis Scott\nFinal Price: 1403.8065021425823\nMonth: 4\nDay: nan\nDay of Week: nan\nIs Weekend: True\nClicks: 0.0\nTotal Tickets: 246\nBookings: 173\nCategory: electronic\n\nTitle: Kadhar Bhai Event 3\nDescription: VANGA \nBase Price: 204\nDemand Level: Low\nCompetition Price: nan\nDynamic Price: nan\nLocation: West Amsterdam\nArtist Name: Kanye West\nFinal Price: 420.2001547022761\nMonth: 12\nDay: 28.0\nDay of Week: 6.0\nIs Weekend: True\nClicks: nan\nTotal Tickets: 380\nBookings: 0\nCategory: country\n\n",
)

chat_session = model.start_chat(
  history=[
    {
      "role": "user",
      "parts": [
        "give top event\n",
      ],
    },
    {
      "role": "model",
      "parts": [
        "Based on the provided data, the top event is *Event Title 24. Here's why:\n\n *Most Popular:* It has the highest number of bookings (244).\n* *Highest Earning:* It generates the most revenue (117608).\n\nWhile other events might have higher ticket prices, Event Title 24's popularity and high number of bookings make it the most successful event overall. \n",
      ],
    },
  ]
)
app = Flask(__name__)
CORS(app) 

@app.route('/chat', methods=['POST'])
def chat():
    # Get the user input from the request JSON
    user_input = request.json.get('message', '')

    if not user_input:
        return jsonify({'error': 'No message provided'}), 400

    print("Received message from user:", user_input)  # Log the received message

    # Send the message to the chatbot
    response = chat_session.send_message(user_input)
    model_response = response.text

    print("Model response:", model_response)  # Log the model's response

    # Append to history
    chat_session.history.append({"role": "user", "parts": [user_input]})
    chat_session.history.append({"role": "model", "parts": [model_response]})

    # Return the model's response
    return jsonify({'response': model_response})

if __name__ == '__main__':
    app.run(debug=True, port=5005)